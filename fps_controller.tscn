[gd_scene load_steps=43 format=3 uid="uid://ckrkb6up3ft"]

[ext_resource type="Script" uid="uid://c5owa6wrdf7hc" path="res://Player/Controller/Scripts/fps_controller.gd" id="1_g2c50"]
[ext_resource type="Script" uid="uid://cbi5yewpjesgf" path="res://Player/Controller/Scripts/weapon_recoil.gd" id="2_3m20y"]
[ext_resource type="Script" uid="uid://ddq0qdbeacxmt" path="res://Player/Controller/Scripts/init_weapon.gd" id="2_f6whd"]
[ext_resource type="Script" uid="uid://cnv16md4my8ow" path="res://Player/Controller/Scripts/reticle.gd" id="2_u0brt"]
[ext_resource type="Resource" uid="uid://bvye6l4nelkjc" path="res://Player/Controller/Meshes/Weapons/Shotgun/Shotgun.tres" id="3_ofirk"]
[ext_resource type="Theme" uid="uid://dqqwanksfv86h" path="res://Player/UI/Themes/Debug.tres" id="3_rgc6g"]
[ext_resource type="Script" uid="uid://crnuo0xh0btvq" path="res://Player/Controller/Scripts/debug.gd" id="4_28gv0"]
[ext_resource type="ArrayMesh" uid="uid://v2tq0aw54keq" path="res://Player/Controller/Meshes/Weapons/Shotgun/Shotgun.res" id="5_3m20y"]
[ext_resource type="Script" uid="uid://dn4pou3k5eja4" path="res://Player/Controller/Scripts/weapon_recoil_physical.gd" id="5_dw3vf"]
[ext_resource type="Script" uid="uid://cx4n8qqmw865g" path="res://Player/Controller/Scripts/state_machine.gd" id="5_kk6m4"]
[ext_resource type="Script" uid="uid://ibkw5coyjeqg" path="res://Player/Controller/Scripts/idle_player_state.gd" id="6_0aebk"]
[ext_resource type="Shader" uid="uid://byf07bgfmusfx" path="res://Player/Controller/Meshes/Weapons/Shotgun/Lightning.gdshader" id="6_bn4ac"]
[ext_resource type="Script" uid="uid://cat14xp2uto3g" path="res://Player/Controller/Scripts/walking_player_state.gd" id="7_268ag"]
[ext_resource type="Script" uid="uid://cytm6wjjd8byh" path="res://Player/Controller/Scripts/muzzle_flash.gd" id="8_104tj"]
[ext_resource type="Script" uid="uid://c6sht1rahtysl" path="res://Player/Controller/Scripts/crouching_player_state.gd" id="9_jyql6"]
[ext_resource type="Script" uid="uid://berxa7tbqdq7w" path="res://Player/Controller/Scripts/sliding_player_state.gd" id="10_100wk"]
[ext_resource type="Script" uid="uid://djgjvkan8kqot" path="res://Player/Controller/Scripts/sprinting_player_state.gd" id="10_iueou"]
[ext_resource type="Script" uid="uid://cr1ahlh2srsxt" path="res://Player/Controller/Scripts/jumping_player_state.gd" id="11_100wk"]
[ext_resource type="Script" uid="uid://cfmtikp3w4gnb" path="res://Player/Controller/Scripts/falling_player_state.gd" id="12_ytt2e"]
[ext_resource type="Script" uid="uid://dxxo5ya5tfy16" path="res://Player/Controller/Scripts/WeaponVieport.gd" id="14_1hlee"]
[ext_resource type="Script" uid="uid://cnpgiot6lv2fx" path="res://Player/Controller/Scripts/WeaponCamera.gd" id="15_jynee"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_0vg3i"]
radius = 0.579622

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0vg3i"]
albedo_color = Color(1, 0, 0, 1)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_0vg3i"]
radius = 0.6

[sub_resource type="Gradient" id="Gradient_6wj07"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_dhxdy"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_37uab"]
color_ramp = SubResource("Gradient_6wj07")
noise = SubResource("FastNoiseLite_dhxdy")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6wj07"]
albedo_color = Color(0.352621, 0.16534, 0.0445692, 1)
metallic = 1.0
roughness = 0.7

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_dhxdy"]
albedo_color = Color(0.180299, 0.151882, 0.123248, 1)
metallic = 0.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mj0ml"]
albedo_color = Color(0.247991, 0.189983, 0.0965745, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_81lee"]
albedo_color = Color(0.190762, 0.190762, 0.190762, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ndcp0"]
emission_enabled = true
emission = Color(0, 0.233334, 1, 1)
emission_energy_multiplier = 100.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_t4l3u"]
render_priority = 0
shader = ExtResource("6_bn4ac")
shader_parameter/base_color = Color(0, 0.5, 1, 1)
shader_parameter/pulse_color = Color(0.5, 0.7, 1, 1)
shader_parameter/speed = 0.1
shader_parameter/scale = 0.1
shader_parameter/distortion = 0.1
shader_parameter/shield_power = 0.0
shader_parameter/rim_power = 1.105
shader_parameter/pulse_frequency = 5.0

[sub_resource type="Animation" id="Animation_g2c50"]
resource_name = "Crouch"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CollisionShape3D:shape:height")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [2.0, 1.4]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D:position")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 1, 0), Vector3(0, 0.6, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CameraController:position")
tracks/2/interp = 2
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 1.75, -0.095), Vector3(0, 1.2, -0.095)]
}

[sub_resource type="Animation" id="Animation_ytt2e"]
resource_name = "JumpEnd"
length = 0.55
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CameraController:rotation:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(0, -0.25, 0.045, 0, -0.0284194, -0.0272807, -0.046, 0, 0.00833333, 0.000227742, 0, -0.45, 0.00152864, 0.25, 0),
"times": PackedFloat32Array(0, 0.133333, 0.55)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CameraController:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.55),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0, 1.5, -0.095), Vector3(0, 1.45, -0.095), Vector3(0, 1.5, -0.095)]
}

[sub_resource type="Animation" id="Animation_100wk"]
resource_name = "JumpStart"
length = 0.55
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CameraController:rotation:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.0333333, -0.000976525, -0.0273946, -0.064, 0, 0.1, 0.00409936, 0, -0.0166667, 0.00312283, 0.25, 0),
"times": PackedFloat32Array(0, 0.2, 0.55)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CameraController:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.2, 0.55),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(0, 1.5, -0.095), Vector3(0, 1.45, -0.095), Vector3(0, 1.5, -0.095)]
}

[sub_resource type="Animation" id="Animation_u0brt"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CollisionShape3D:shape:height")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [2.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CameraController:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 1.75, -0.095)]
}
tracks/3/type = "bezier"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("CameraController:position:x")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/4/type = "bezier"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("CameraController:position:y")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(1.75, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/5/type = "bezier"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("CameraController:position:z")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/6/type = "bezier"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("CameraController/Recoil/MainCamera:position:z")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/7/type = "bezier"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("CameraController/Recoil/MainCamera:position:y")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/8/type = "bezier"
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/path = NodePath("CameraController/Recoil/MainCamera:position:x")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}
tracks/9/type = "value"
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/path = NodePath("CameraController/Recoil/MainCamera:fov")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [85.0]
}
tracks/10/type = "value"
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/path = NodePath("CameraController:rotation")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/11/type = "value"
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/path = NodePath("CeilingDetection:position")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 1.5, 0)]
}
tracks/12/type = "value"
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/path = NodePath("PlayerStateMachine/SlidingPlayerState:SPEED")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [6.0]
}
tracks/13/type = "bezier"
tracks/13/imported = false
tracks/13/enabled = true
tracks/13/path = NodePath("CameraController:rotation:x")
tracks/13/interp = 1
tracks/13/loop_wrap = true
tracks/13/keys = {
"handle_modes": PackedInt32Array(0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_iueou"]
resource_name = "Sliding"
length = 5.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CollisionShape3D:shape:height")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [2.0, 1.5]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 1, 0), Vector3(0, 0.75, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CameraController:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 1.5, -0.095), Vector3(0, 1, -0.095)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("CameraController:rotation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 0.5, 3, 4.9),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0, 0), Vector3(0, 0, 0), Vector3(0, 0, 0)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("CeilingDetection:position")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 1.5, 0), Vector3(0, 1, 0)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("PlayerStateMachine/SlidingPlayerState:SPEED")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(1, 5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [6.0, 4.0]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("CameraController/Recoil/MainCamera:fov")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 0.3, 4.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [85.0, 90.0, 75.0]
}
tracks/7/type = "method"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("PlayerStateMachine/SlidingPlayerState")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(5),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"finish"
}]
}

[sub_resource type="Animation" id="Animation_jgoah"]
resource_name = "Sprinting"
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CameraController/Recoil/MainCamera:position:z")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.128217, 0.266667, 0.6, 0.766988, 0.991667)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CameraController/Recoil/MainCamera:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0, 0),
"points": PackedFloat32Array(0, 0, 0, 0.074, 0, 0.0531813, -0.059, 0, 0.06, 0, -0.0253308, -0.166667, 0.00367666, 0.133333, 0.00070705, 0.120477, -0.133, 0, 0.133, 0, -0.016358, -0.067, 0, 0.114, 0, 0.000368882, -0.12, 0, 0, 0),
"times": PackedFloat32Array(0, 0.2, 0.366667, 0.633333, 0.8, 1)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CameraController/Recoil/MainCamera:position:x")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0),
"points": PackedFloat32Array(0, 0, 0, 0.135, 0, 0.115991, -0.233333, 0.0246752, 0.1, -0.0246752, 0.00831725, -0.0666667, 0.0762689, 0.0666667, -0.0740257, -0.0544924, -0.166667, 0.00835711, 0.1, 0.00672961, 0.000368882, -0.065, 0, 0, 0),
"times": PackedFloat32Array(0, 0.333333, 0.5, 0.7, 1)
}

[sub_resource type="Animation" id="Animation_268ag"]
resource_name = "Walking"
length = 2.0
loop_mode = 1
tracks/0/type = "bezier"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CameraController:position:x")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0),
"points": PackedFloat32Array(0.014759, -0.25, 0, 0.266667, -0.0019124, 0, -0.3, -0.00341188, 0.3, -0.00175848, -0.0149857, -0.25, 0, 0.2, 0.00248011, 0, -0.266667, 0.0018239, 0.266667, 0.00237504, 0.014759, -0.3, -0.00246354, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1, 1.5, 2)
}
tracks/1/type = "bezier"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CameraController:position:y")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0),
"points": PackedFloat32Array(1.71858, -0.25, 0, 0.233333, 0.0193272, 1.81475, -0.241667, -0.0157246, 0.258333, -0.0100065, 1.71858, -0.258333, 0.0267614, 0.208333, 0.0238272, 1.81475, -0.241667, -0.0107213, 0.258333, -0.011436, 1.71554, -0.366667, 0.0426356, 0.25, 0),
"times": PackedFloat32Array(0.025, 0.466667, 1.025, 1.46667, 2)
}
tracks/2/type = "bezier"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("CameraController:position:z")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"handle_modes": PackedInt32Array(0, 0, 0, 0, 0),
"points": PackedFloat32Array(0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0),
"times": PackedFloat32Array(0, 0.5, 1, 1.5, 2)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_u0brt"]
_data = {
&"Crouch": SubResource("Animation_g2c50"),
&"JumpEnd": SubResource("Animation_ytt2e"),
&"JumpStart": SubResource("Animation_100wk"),
&"RESET": SubResource("Animation_u0brt"),
&"Sliding": SubResource("Animation_iueou"),
&"Sprinting": SubResource("Animation_jgoah"),
&"Walking": SubResource("Animation_268ag")
}

[sub_resource type="SphereShape3D" id="SphereShape3D_g2c50"]

[node name="FPSController" type="CharacterBody3D" node_paths=PackedStringArray("CAMERA_CONTROLLER", "ANIMATIONPLAYER", "CROUCH_SHAPECAST", "WEAPON_CONTROLLER")]
script = ExtResource("1_g2c50")
CAMERA_CONTROLLER = NodePath("CameraController/Recoil/MainCamera")
ANIMATIONPLAYER = NodePath("Animations")
CROUCH_SHAPECAST = NodePath("CeilingDetection")
WEAPON_CONTROLLER = NodePath("CameraController/Recoil/MainCamera/WeaponRig/Weapon")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_0vg3i")

[node name="PlaceholderMesh" type="MeshInstance3D" parent="CollisionShape3D"]
visible = false
material_override = SubResource("StandardMaterial3D_0vg3i")
mesh = SubResource("CapsuleMesh_0vg3i")

[node name="CameraController" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.75, 0)

[node name="Recoil" type="Node3D" parent="CameraController" node_paths=PackedStringArray("weapon")]
script = ExtResource("2_3m20y")
recoil_amount = Vector3(0.1, 0.02, 0)
snap_amount = 3.0
speed = 17.0
weapon = NodePath("MainCamera/WeaponRig/Weapon")

[node name="MainCamera" type="Camera3D" parent="CameraController/Recoil"]
cull_mask = 1
current = true
fov = 85.0

[node name="WeaponRig" type="Node3D" parent="CameraController/Recoil/MainCamera"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.238628)

[node name="Weapon" type="Node3D" parent="CameraController/Recoil/MainCamera/WeaponRig"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0.133, -0.097, 0.005)
script = ExtResource("2_f6whd")
WEAPON_TYPE = ExtResource("3_ofirk")
sway_noise = SubResource("NoiseTexture2D_37uab")

[node name="RecoilPosition" type="Node3D" parent="CameraController/Recoil/MainCamera/WeaponRig/Weapon" node_paths=PackedStringArray("weapon")]
script = ExtResource("5_dw3vf")
recoil_amount = Vector3(-0.06, -1, 0.15)
snap_amount = 15.0
speed = 20.0
weapon = NodePath("..")

[node name="Weapon" type="MeshInstance3D" parent="CameraController/Recoil/MainCamera/WeaponRig/Weapon/RecoilPosition"]
unique_name_in_owner = true
layers = 3
mesh = ExtResource("5_3m20y")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_6wj07")
surface_material_override/1 = SubResource("StandardMaterial3D_dhxdy")
surface_material_override/2 = SubResource("StandardMaterial3D_mj0ml")
surface_material_override/3 = SubResource("StandardMaterial3D_81lee")
surface_material_override/5 = SubResource("StandardMaterial3D_6wj07")
surface_material_override/6 = SubResource("StandardMaterial3D_ndcp0")
surface_material_override/7 = SubResource("ShaderMaterial_t4l3u")

[node name="WeaponShadow" type="MeshInstance3D" parent="CameraController/Recoil/MainCamera/WeaponRig/Weapon/RecoilPosition"]
unique_name_in_owner = true
visible = false
layers = 2
mesh = ExtResource("5_3m20y")
skeleton = NodePath("../..")

[node name="MuzzleFlash" type="Node3D" parent="CameraController/Recoil/MainCamera/WeaponRig/Weapon"]
script = ExtResource("8_104tj")

[node name="OmniLight3D" type="OmniLight3D" parent="CameraController/Recoil/MainCamera/WeaponRig/Weapon/MuzzleFlash"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.437488, -0.00822762, 0)
light_color = Color(0.341176, 0.592157, 0.988235, 1)
light_energy = 10.0
shadow_enabled = true
shadow_bias = 10.0
shadow_normal_bias = 0.0
shadow_transmittance_bias = 0.84
omni_range = 1.307

[node name="GPUParticles3D" type="GPUParticles3D" parent="CameraController/Recoil/MainCamera/WeaponRig/Weapon/MuzzleFlash"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.437488, -0.00822762, 0)

[node name="Animations" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_u0brt")
}

[node name="CeilingDetection" type="ShapeCast3D" parent="."]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
shape = SubResource("SphereShape3D_g2c50")
target_position = Vector3(0, 0.5, 0)
debug_shape_custom_color = Color(1, 0, 0.0333333, 1)

[node name="UserInterface" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1

[node name="Reticle" type="CenterContainer" parent="UserInterface" node_paths=PackedStringArray("RETICLE_LINES", "PLAYER_CONTROLLER")]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("2_u0brt")
RETICLE_LINES = [NodePath("Top"), NodePath("Right"), NodePath("Bottom"), NodePath("Left")]
PLAYER_CONTROLLER = NodePath("../..")
DOT_COLOR = Color(0.805213, 0.636502, 0.464913, 1)

[node name="Top" type="Line2D" parent="UserInterface/Reticle"]
points = PackedVector2Array(0, -5, 0, -15)
width = 1.5

[node name="Right" type="Line2D" parent="UserInterface/Reticle"]
points = PackedVector2Array(0, 5, 0, 15)
closed = true
width = 1.5

[node name="Bottom" type="Line2D" parent="UserInterface/Reticle"]
points = PackedVector2Array(5, 0, 15, 0)
width = 1.5

[node name="Left" type="Line2D" parent="UserInterface/Reticle"]
points = PackedVector2Array(-5, 0, -15, 0)
width = 1.5

[node name="DebugPanel" type="PanelContainer" parent="UserInterface"]
custom_minimum_size = Vector2(200, 0)
layout_mode = 0
offset_left = 10.0
offset_top = 10.0
offset_right = 210.0
offset_bottom = 50.0
theme = ExtResource("3_rgc6g")
script = ExtResource("4_28gv0")

[node name="MarginContainer" type="MarginContainer" parent="UserInterface/DebugPanel"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="UserInterface/DebugPanel/MarginContainer"]
unique_name_in_owner = true
layout_mode = 2

[node name="PlayerStateMachine" type="Node" parent="." node_paths=PackedStringArray("CURRENT_STATE")]
script = ExtResource("5_kk6m4")
CURRENT_STATE = NodePath("IdlePlayerState")

[node name="IdlePlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("6_0aebk")

[node name="WalkingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("7_268ag")

[node name="SprintingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("10_iueou")
metadata/_custom_type_script = "uid://bg3wsgb1h0icm"

[node name="CrouchingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("9_jyql6")
metadata/_custom_type_script = "uid://bg3wsgb1h0icm"

[node name="SlidingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("10_100wk")
metadata/_custom_type_script = "uid://bg3wsgb1h0icm"

[node name="JumpingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("11_100wk")
metadata/_custom_type_script = "uid://bg3wsgb1h0icm"

[node name="FallingPlayerState" type="Node" parent="PlayerStateMachine"]
script = ExtResource("12_ytt2e")
metadata/_custom_type_script = "uid://bg3wsgb1h0icm"

[node name="WeaponViewport" type="SubViewportContainer" parent="."]
light_mask = 2
visibility_layer = 2
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="SubViewport" type="SubViewport" parent="WeaponViewport"]
transparent_bg = true
handle_input_locally = false
canvas_cull_mask = 4293918723
size = Vector2i(1152, 648)
render_target_update_mode = 4
script = ExtResource("14_1hlee")

[node name="WeaponCamera" type="Camera3D" parent="WeaponViewport/SubViewport" node_paths=PackedStringArray("MAIN_CAMERA")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.792, 0)
cull_mask = 2
current = true
fov = 88.0386
near = 0.001
script = ExtResource("15_jynee")
MAIN_CAMERA = NodePath("../../../CameraController/Recoil/MainCamera")

[connection signal="animation_started" from="Animations" to="." method="_on_crouching_animation_started"]
